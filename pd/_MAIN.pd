#N canvas 596 557 423 705 12;
#X declare -path ./bop;
#X declare -path ./bop/babs;
#X obj 32 14 cnv 19 370 40 empty empty plantsOS\ üê±\ changi 70 20 0 16 #c6ffc7 #e3c6ff 0;
#X obj 337 33 nbx 3 17 -1e+37 1e+37 0 1 version empty version 0 -10 0 12 #c6ffc7 #000000 #000000 92 256;
#X obj 32 70 cnv 19 370 150 empty empty empty 20 12 0 12 #e3c6ff #404040 0;
#X obj 32 244 cnv 19 370 150 empty empty empty 20 12 0 12 #c6feff #404040 0;
#X text 37 248 VOICES;
#N canvas 497 177 1641 1062 mapping 0;
#X msg 767 193 \$1 10;
#X obj 767 221 line~;
#X msg 1024 204 \$1 10;
#X obj 1024 232 line~;
#X msg 474 346 admin reboot;
#X obj 474 373 s osc-in;
#X obj 58 249 s calibrate;
#X obj 59 221 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 230 353 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 473 320 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 230 384 s \$0-nextvoice;
#X obj 767 405 s~ amp1;
#X obj 949 407 s~ amp2;
#X obj 473 186 sel 0 1, f 13;
#X obj 518 223 delay 2000;
#X obj 519 308 s osc-in;
#X obj 518 255 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 519 281 admin shutdown;
#X text 469 63 red \; press to reboot \; hold for 2s to shutdown \;;
#X text 60 80 green \; calibrate \;;
#X msg 851 135 0.5;
#X obj 851 111 loadbang;
#X obj 37 173 sel 0 1;
#X obj 230 183 sel 0 1, f 16;
#X obj 282 261 delay 2000;
#X obj 283 346 s osc-in;
#X obj 282 293 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 283 319 admin update;
#X msg 241 213 stop;
#X text 227 55 blue \; press next voice \; hold for 2s to update \;;
#X obj 767 127 r pots;
#X msg 767 151 \$1;
#X msg 1024 161 \$2;
#X obj 1024 132 r pots;
#X obj 39 126 r buttons;
#X msg 39 150 \$1;
#X obj 230 135 r buttons;
#X msg 230 159 \$2;
#X obj 473 136 r buttons;
#X msg 473 160 \$3;
#X obj 123 678 r from-arduino;
#X obj 374 785 s buttons;
#X obj 123 732 route t traw b p, f 52;
#X obj 123 781 route 0 1, f 23;
#X msg 123 813 \$1;
#X msg 245 817 \$1;
#X obj 393 878 filtering;
#X obj 473 878 filtering;
#X obj 122 912 s sensor1;
#X obj 245 912 s sensor2;
#X obj 455 783 s pots;
#X obj 1316 679 r osc-in;
#X obj 1316 703 route debug;
#X obj 1248 652 r from-arduino;
#X obj 1256 762 route traw;
#X obj 1256 790 route 0 1;
#X obj 1253 854 pack;
#X msg 1270 887 debug \$1 \$2;
#X obj 1270 925 s osc-out;
#X obj 1256 731 babs.gate;
#X msg 1252 819 \$1;
#X msg 1283 820 \$1;
#X obj 122 877 filter-and-scale;
#X obj 245 876 filter-and-scale;
#X obj 637 731 r osc-in;
#X obj 641 880 s sensitivity;
#X obj 768 883 s floor;
#X text 640 708 set sensitivity;
#X obj 637 755 route sens sensitivity floor;
#X obj 1078 782 pack;
#X obj 1058 723 r sensor1;
#X obj 1144 722 r sensor2;
#X msg 1088 896 debug \$1 \$2;
#X obj 1088 934 s osc-out;
#X obj 1086 846 babs.gate;
#X obj 1131 793 r osc-in;
#X obj 1131 817 route debug;
#X text 1064 701 scaled debug;
#X text 1254 624 raw debug;
#X obj 854 754 loadbang;
#X obj 854 778 delay 2000;
#X obj 867 217 r pots;
#X msg 867 241 \$3;
#X obj 857 336 line~;
#X msg 856 307 \$1 10;
#X obj 767 374 *~, f 5;
#X obj 949 379 *~;
#X text 851 73 pot3 \; master gain;
#X text 1022 94 pot2 \; gain R;
#X text 766 87 pot1 \; gain L;
#X msg 904 828 0.03;
#X obj 123 847 change;
#X obj 245 844 change;
#X msg 833 810 20;
#X obj 867 269 expr $f1 * 3 + 0.5;
#X connect 0 0 1 0;
#X connect 1 0 85 0;
#X connect 2 0 3 0;
#X connect 3 0 86 1;
#X connect 4 0 5 0;
#X connect 7 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 4 0;
#X connect 13 0 9 0;
#X connect 13 1 14 0;
#X connect 14 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 20 0 0 0;
#X connect 20 0 2 0;
#X connect 20 0 84 0;
#X connect 21 0 20 0;
#X connect 22 1 7 0;
#X connect 23 0 8 0;
#X connect 23 0 28 0;
#X connect 23 1 24 0;
#X connect 24 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 25 0;
#X connect 28 0 24 0;
#X connect 30 0 31 0;
#X connect 31 0 0 0;
#X connect 32 0 2 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 35 0 22 0;
#X connect 36 0 37 0;
#X connect 37 0 23 0;
#X connect 38 0 39 0;
#X connect 39 0 13 0;
#X connect 40 0 42 0;
#X connect 42 1 43 0;
#X connect 42 2 41 0;
#X connect 42 3 50 0;
#X connect 43 0 44 0;
#X connect 43 1 45 0;
#X connect 44 0 91 0;
#X connect 45 0 92 0;
#X connect 51 0 52 0;
#X connect 52 0 59 1;
#X connect 54 0 55 0;
#X connect 55 0 60 0;
#X connect 55 1 61 0;
#X connect 56 0 57 0;
#X connect 57 0 58 0;
#X connect 59 0 54 0;
#X connect 60 0 56 0;
#X connect 61 0 56 1;
#X connect 62 0 48 0;
#X connect 63 0 49 0;
#X connect 64 0 68 0;
#X connect 68 0 65 0;
#X connect 68 1 65 0;
#X connect 68 2 66 0;
#X connect 69 0 74 0;
#X connect 70 0 69 0;
#X connect 71 0 69 1;
#X connect 72 0 73 0;
#X connect 74 0 72 0;
#X connect 75 0 76 0;
#X connect 76 0 74 1;
#X connect 79 0 80 0;
#X connect 80 0 93 0;
#X connect 80 0 90 0;
#X connect 81 0 82 0;
#X connect 82 0 94 0;
#X connect 83 0 85 1;
#X connect 83 0 86 0;
#X connect 84 0 83 0;
#X connect 85 0 11 0;
#X connect 86 0 12 0;
#X connect 90 0 66 0;
#X connect 91 0 62 0;
#X connect 92 0 63 0;
#X connect 93 0 65 0;
#X connect 94 0 84 0;
#X restore 273 192 pd mapping;
#X f 16;
#X obj 32 416 cnv 19 370 250 empty empty empty 20 12 0 12 #feffc6 #404040 0;
#X obj 213 605 declare -path ./bop, f 24;
#X obj 45 634 dac~, f 12;
#X msg 313 559 \; pd dsp 1;
#X obj 313 520 loadbang, f 9;
#X obj 45 437 catch~ left;
#X obj 157 436 catch~ right;
#X obj 157 487 bop.reverb~;
#A saved size 0.592857;
#A saved damp 0.835714;
#A saved cutoff 5000;
#A saved wet 0.857143;
#A saved dry 1;
#X obj 213 634 declare -path ./bop/babs;
#X obj 157 560 *~;
#X obj 45 560 *~;
#X obj 63 526 r~ amp1;
#X obj 175 529 r~ amp2;
#X obj 273 108 bopos.arduino, f 16;
#X obj 188 191 bopos.osc, f 10;
#X obj 273 163 bopos.feedback, f 16;
#X obj 273 134 s from-arduino, f 16;
#N canvas 507 80 614 872 getvoice 0;
#X obj 190 553 babs.counter, f 16;
#X obj 242 798 file handle;
#X obj 348 691 file which;
#X obj 348 727 unpack s f;
#X msg 348 655 symbol persist/voice.txt;
#X msg 348 758 open \$1 c;
#X obj 190 262 file handle;
#X obj 279 150 file which;
#X obj 279 186 unpack s f;
#X msg 279 114 symbol persist/voice.txt;
#X obj 190 10 loadbang;
#X floatatom 190 394 5 0 0 0 - - - 0;
#X obj 190 43 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 279 217 open \$1;
#X obj 190 70 t b b, f 13;
#X msg 190 143 1 \, close;
#X msg 242 679 close;
#X obj 295 729 + 48;
#X obj 190 300 - 48;
#X obj 190 615 t f b f b, f 23;
#X obj 264 303 print file-write;
#X text 394 183 read voice from file at load;
#X text 451 717 save voice to file;
#X obj 190 108 delay 5;
#X obj 190 495 s \$0-nextvoice;
#X obj 190 524 r \$0-nextvoice;
#X obj 190 826 s active-voice;
#X floatatom 17 47 12 0 0 0 - active-voice - 0;
#X obj 203 335 r osc-in;
#X obj 190 426 t b f, f 16;
#X obj 203 359 route voice;
#X text 275 334 receive voice as OSC command;
#X obj 17 18 bng 19 250 50 0 \$0-nextvoice \$0-nextvoice next\ voice 24 10 0 12 #fcfcfc #000000 #000000;
#X floatatom 262 582 5 0 0 0 - - - 0;
#X floatatom 114 575 5 0 0 0 - - - 0;
#X obj 190 577 % 6;
#X connect 0 0 33 0;
#X connect 0 0 35 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 1 0;
#X connect 6 0 18 0;
#X connect 6 1 20 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 7 0;
#X connect 10 0 12 0;
#X connect 11 0 29 0;
#X connect 12 0 14 0;
#X connect 13 0 6 0;
#X connect 14 0 23 0;
#X connect 14 1 9 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 11 0;
#X connect 19 0 26 0;
#X connect 19 1 16 0;
#X connect 19 2 17 0;
#X connect 19 3 4 0;
#X connect 23 0 15 0;
#X connect 25 0 0 0;
#X connect 28 0 30 0;
#X connect 29 0 24 0;
#X connect 29 1 0 1;
#X connect 30 0 11 0;
#X connect 35 0 19 0;
#X connect 35 0 34 0;
#X coords 0 -1 1 1 115 65 2 10 10;
#X restore 278 255 pd getvoice;
#X obj 41 268 voice.0 0, f 16;
#X obj 41 287 voice.1 1, f 16;
#X obj 41 306 voice.2 2, f 16;
#X obj 41 325 voice.3 3, f 16;
#X obj 41 344 voice.4 4, f 16;
#X obj 41 363 voice.5 5, f 16;
#X obj 46 79 hsl 162 19 0 1 0 0 sensor1 empty sensor1 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 46 98 hsl 162 19 0 1 0 0 sensor2 empty sensor2 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 46 179 bng 19 250 50 0 calibrate calibrate calibrate 21 10 0 12 #fcfcfc #000000 #000000;
#X obj 46 135 nbx 4 17 0 50 0 0 sensitivity sensitivity sensitvity 55 8 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 46 152 nbx 4 17 0 1 0 0 floor empty floor 55 8 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 45 601 clip~ -1 1;
#X obj 128 600 clip~ -1 1;
#X obj 45 488 bop.reverb~;
#A saved size 0.592857;
#A saved damp 0.835714;
#A saved cutoff 5000;
#A saved wet 0.857143;
#A saved dry 1;
#X msg 188 165 id 0;
#X connect 10 0 9 0;
#X connect 11 0 37 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 15 0 36 0;
#X connect 16 0 35 0;
#X connect 17 0 16 1;
#X connect 18 0 15 1;
#X connect 19 0 22 0;
#X connect 35 0 8 0;
#X connect 36 0 8 1;
#X connect 37 0 16 0;
#X connect 38 0 20 0;
