#N canvas 159 102 459 751 12;
#X declare -path ./bop;
#X declare -path ./bop/babs;
#X obj 32 14 cnv 19 400 40 empty empty plantsOS\ ðŸ¥¶\ coldvoice 90 20 0 16 #c6ffc7 #e3c6ff 0;
#X obj 377 33 nbx 3 17 -1e+37 1e+37 0 1 version empty version 0 -10 0 12 #c6ffc7 #000000 #000000 16 256;
#X obj 32 180 cnv 19 400 150 empty empty empty 20 12 0 12 #e3c6ff #404040 0;
#X obj 288 254 bng 19 250 50 0 calibrate calibrate calibrate 21 10 0 12 #fcfcfc #000000 #000000;
#N canvas 207 56 614 872 getvoice 0;
#X obj 190 553 babs.counter, f 16;
#X obj 242 798 file handle;
#X obj 348 691 file which;
#X obj 348 727 unpack s f;
#X msg 348 655 symbol persist/voice.txt;
#X msg 348 758 open \$1 c;
#X obj 190 262 file handle;
#X obj 279 150 file which;
#X obj 279 186 unpack s f;
#X msg 279 114 symbol persist/voice.txt;
#X obj 190 10 loadbang;
#X floatatom 190 394 5 0 0 0 - - - 0;
#X obj 190 43 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 279 217 open \$1;
#X obj 190 70 t b b, f 13;
#X msg 190 143 1 \, close;
#X msg 242 679 close;
#X obj 295 729 + 48;
#X obj 190 300 - 48;
#X obj 190 615 t f b f b, f 23;
#X obj 264 303 print file-write;
#X text 394 183 read voice from file at load;
#X text 451 717 save voice to file;
#X obj 190 108 delay 5;
#X obj 190 495 s \$0-nextvoice;
#X obj 190 524 r \$0-nextvoice;
#X obj 190 826 s active-voice;
#X floatatom 17 47 12 0 0 0 - active-voice - 0;
#X obj 190 426 t b f, f 16;
#X obj 17 18 bng 19 250 50 0 \$0-nextvoice \$0-nextvoice next\ voice 24 10 0 12 #fcfcfc #000000 #000000;
#X obj 190 577 % 2;
#X obj 205 350 r set-voice;
#X text 297 351 receive from mapping;
#X connect 0 0 30 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 1 0;
#X connect 6 0 18 0;
#X connect 6 1 20 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 7 0;
#X connect 10 0 12 0;
#X connect 11 0 28 0;
#X connect 12 0 14 0;
#X connect 13 0 6 0;
#X connect 14 0 23 0;
#X connect 14 1 9 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 11 0;
#X connect 19 0 26 0;
#X connect 19 1 16 0;
#X connect 19 2 17 0;
#X connect 19 3 4 0;
#X connect 23 0 15 0;
#X connect 25 0 0 0;
#X connect 28 0 24 0;
#X connect 28 1 0 1;
#X connect 30 0 19 0;
#X connect 31 0 11 0;
#X coords 0 -1 1 1 115 65 2 10 10;
#X restore 51 252 pd getvoice;
#X obj 288 198 nbx 4 17 0 50 0 1 sensitivity sensitivity sensitvity 55 8 0 12 #fcfcfc #000000 #000000 30 256;
#X obj 288 227 nbx 4 17 0 1 0 1 floor floor floor 55 8 0 12 #fcfcfc #000000 #000000 0.03 256;
#X obj 32 354 cnv 19 400 150 empty empty empty 20 12 0 12 #c6feff #404040 0;
#X obj 263 382 read-sensors, f 19;
#X text 37 358 VOICES;
#X obj 263 411 OSC-IO, f 19;
#N canvas 563 160 847 703 mapping 0;
#X msg 567 116 \$1 10;
#X obj 567 144 line~;
#X msg 749 118 \$1 10;
#X obj 749 146 line~;
#X obj 567 87 r pot1;
#X obj 749 89 r pot2;
#X msg 350 285 admin reboot;
#X obj 350 312 s osc-in;
#X obj 58 199 s calibrate;
#X obj 59 171 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 180 84 r button2;
#X obj 180 298 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 349 259 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 547 423 r osc-in;
#X obj 547 447 route debug;
#X obj 547 471 route sensor1 sensor2;
#X obj 436 579 babs.gate 0;
#X obj 541 520 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 432 648 s osc-out;
#X obj 612 571 babs.gate 0;
#X obj 672 521 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 612 624 s osc-out;
#X obj 180 329 s \$0-nextvoice;
#X obj 567 178 s~ amp1;
#X obj 749 180 s~ amp2;
#X obj 349 125 sel 0 1, f 13;
#X obj 394 162 delay 2000;
#X obj 395 247 s osc-in;
#X obj 394 194 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 395 220 admin shutdown;
#X text 345 28 red \; press to reboot \; hold for 2s to shutdown \;;
#X text 60 30 green \; calibrate \;;
#X obj 63 413 r osc-in;
#X obj 349 83 r button3;
#X obj 59 83 r button1;
#X obj 63 491 s sensitivity;
#X obj 196 484 s floor;
#X text 566 30 pot1 \; volume1 \;;
#X text 747 28 pot2 \; volume2 \;;
#X text 66 390 set sensitivity;
#X text 540 384 debug sensors;
#X msg 651 109 0.5;
#X obj 651 85 loadbang;
#X obj 59 113 sel 0 1;
#X obj 180 108 sel 0 1, f 16;
#X obj 232 206 delay 2000;
#X obj 233 291 s osc-in;
#X obj 232 238 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 233 264 admin update;
#X msg 191 158 stop;
#X text 177 30 blue \; press next voice \; hold for 2s to update \;;
#X obj 424 517 r sensorsOne;
#X obj 578 519 r sensorsTwo;
#X obj 432 619 list prepend sensor1;
#X obj 611 600 list prepend sensor2;
#X obj 63 437 route sens sensitivity floor;
#X obj 342 391 r osc-in;
#X obj 342 415 route voice;
#X obj 338 456 s set-voice;
#X connect 0 0 1 0;
#X connect 1 0 23 0;
#X connect 2 0 3 0;
#X connect 3 0 24 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 44 0;
#X connect 11 0 22 0;
#X connect 12 0 6 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 17 0;
#X connect 15 1 20 0;
#X connect 16 0 53 0;
#X connect 17 0 16 1;
#X connect 19 0 54 0;
#X connect 20 0 19 1;
#X connect 25 0 12 0;
#X connect 25 1 26 0;
#X connect 26 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 27 0;
#X connect 32 0 55 0;
#X connect 33 0 25 0;
#X connect 34 0 43 0;
#X connect 41 0 0 0;
#X connect 41 0 2 0;
#X connect 42 0 41 0;
#X connect 43 1 9 0;
#X connect 44 0 11 0;
#X connect 44 0 49 0;
#X connect 44 1 45 0;
#X connect 45 0 47 0;
#X connect 47 0 48 0;
#X connect 48 0 46 0;
#X connect 49 0 45 0;
#X connect 51 0 16 0;
#X connect 52 0 19 0;
#X connect 53 0 18 0;
#X connect 54 0 21 0;
#X connect 55 0 35 0;
#X connect 55 1 35 0;
#X connect 55 2 36 0;
#X connect 56 0 57 0;
#X connect 57 0 58 0;
#X restore 263 440 pd mapping;
#X f 19;
#N canvas 796 63 674 584 feedback 0;
#X obj 42 517 throw~ left;
#X obj 143 518 throw~ right;
#X obj 53 455 bop.casio~;
#A saved wave-1 5;
#A saved wave-2 6;
#A saved filter 0.2;
#A saved attack 0;
#A saved decay 0.685714;
#A saved sustain 0;
#A saved release 0.828571;
#A saved gain 0.621429;
#X obj 53 68 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 51 360 bop.sequence;
#A saved read ../../seq/shutdown.txt;
#A saved loop 0;
#A saved scrub 0;
#A saved internal-sequence attack 0 \; 61 127 \; 67 127 \;;
#X msg 52 100 read ../../seq/start.txt \, go;
#X obj 89 131 r calibrate;
#X obj 136 195 r reboot;
#X obj 166 329 r shutdown;
#X obj 164 263 r update;
#X msg 89 160 read ../../seq/calibrate.txt \, go;
#X msg 136 229 read ../../seq/reboot.txt \, go;
#X msg 166 360 read ../../seq/shutdown.txt \, go;
#X msg 164 290 read ../../seq/update.txt \, go;
#X obj 173 407 r active-voice;
#X msg 173 431 \$1 127;
#X obj 54 41 r aloha;
#X connect 2 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 4 1 2 1;
#X connect 5 0 4 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 13 0;
#X connect 10 0 4 1;
#X connect 11 0 4 1;
#X connect 12 0 4 1;
#X connect 13 0 4 1;
#X connect 14 0 15 0;
#X connect 16 0 3 0;
#X restore 263 469 pd feedback;
#X f 19;
#X obj 32 526 cnv 19 400 200 empty empty empty 20 12 0 12 #feffc6 #404040 0;
#X obj 242 666 declare -path ./bop, f 24;
#X obj 48 694 dac~, f 15;
#X msg 347 623 \; pd dsp 1;
#X obj 347 584 loadbang, f 9;
#X obj 48 547 catch~ left;
#X obj 150 546 catch~ right;
#X obj 48 579 bop.reverb~;
#A saved size 0.671429;
#A saved damp 0.578571;
#A saved cutoff 3000;
#A saved wet 0.857143;
#A saved dry 1;
#X obj 150 577 bop.reverb~;
#A saved size 0.671429;
#A saved damp 0.578571;
#A saved cutoff 3000;
#A saved wet 0.857143;
#A saved dry 1;
#X obj 242 695 declare -path ./bop/babs;
#X obj 150 660 *~;
#X obj 48 660 *~;
#X obj 66 626 r~ amp1;
#X obj 168 629 r~ amp2;
#N canvas 888 150 471 436 notes 0;
#X text 20 34 sensitivity 9.5;
#X text 19 52 floor 0.09;
#X text 18 13 good settings on batteries:;
#X text 21 120 sensitivity 9;
#X text 22 143 floor 0.4;
#X text 19 101 for noisy supply:;
#X restore 288 293 pd notes;
#X obj 38 382 voice.0 0, f 23;
#X obj 38 401 voice.1 1, f 23;
#X listbox 33 84 57 0 0 2 sensorsOne sensorsOne - 0;
#X listbox 33 132 57 0 0 2 sensorsTwo sensorsTwo - 0;
#X connect 17 0 16 0;
#X connect 18 0 20 0;
#X connect 19 0 21 0;
#X connect 20 0 24 0;
#X connect 21 0 23 0;
#X connect 23 0 15 1;
#X connect 24 0 15 0;
#X connect 25 0 24 1;
#X connect 26 0 23 1;
